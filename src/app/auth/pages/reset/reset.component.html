<div class="grid">
  <div class="md:col-3 col-12">
    <div class="text-center">
      <img class="img-fluid" width="200px" src="./assets/img/logoRuta.png" />
    </div>

    <div class="p-3">
      <h1 class="welcome">Recuperar contraseña</h1>
      <span>Para restablecer tu contraseña por favor completa los siguientes datos e ingresa los códigos que hemos enviado a tu correo electrónico:</span>

      <form (ngSubmit)="resetPassword(fReset)" #fReset="ngForm">
        <div class="mt-4">
          <div class="mb-2">
            <label>Contraseña</label>
          </div>
          <p-password
            name="new_password1"
            [(ngModel)]="reset.new_password1"
            [toggleMask]="true"
            styleClass="w-full"
            required
          >
          </p-password>
        </div>

        <div class="mt-4">
          <div class="mb-2">
            <label>Confirmar contraseña</label>
          </div>
          <p-password
            name="new_password2"
            [(ngModel)]="reset.new_password2"
            [toggleMask]="true"
            styleClass="w-full"
            required
          >
          </p-password>
        </div>

        <input
          type="hidden"
          pInputText
          name="uid"
          [(ngModel)]="reset.uid"
          required
        />

        <input
          type="hidden"
          pInputText
          name="token"
          [(ngModel)]="reset.token"
          required
        />

        <div class="mt-5 text-center">
          <button
            pButton
            pRipple
            type="submit"
            label="ACTUALIZAR MI CONTRASEÑA"
            class="p-button-raised p-button-success"
            [disabled]="!fReset.valid || loading"
          >
          </button>
        </div>
      </form>

    </div>


    <div class="text-center forgot-link" routerLink="/">
      Iniciar sesión
    </div>

  </div>
  <div class="md:col-9 col" id="backgroundLogin">
  </div>
</div>

<p-toast></p-toast>

<p-dialog
  header="RutaBogotáE"
  [(visible)]="showModal"
  [style]="{width: '50vw'}"
>
  <div [innerHTML]="message"></div>
  <ng-template pTemplate="footer">
      <p-button
        icon="pi pi-check"
        (click)="closeModal()"
        label="Cerrar"
        styleClass="p-button-text"
      ></p-button>
  </ng-template>
</p-dialog>
